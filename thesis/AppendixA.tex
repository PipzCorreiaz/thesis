\cleardoublepage
\fancychapter{Appendix A - Approach supplementary material}
\label{sec:appendix_a}

\thispagestyle{empty}

\begin{landscape}
    \begin{table}[htb]
    \centering
     \begin{threeparttable}
     \caption{Plant miRNA target prediction tools, adapted from~\citet{Srivastava2014}}
     \label{tbl:tool_comparison}
     \begin{tabular} {c c c c c c c l c} \toprule
     Name & Comp\tnote{1} & Cons\tnote{2} & Acc\tnote{3} & Mul\tnote{4} & Func\tnote{5} & Code & Link & Ref\tnote{6} \\ \hline
     Patscan & \checkmark & & & & & & {\scriptsize N/A} & \cite{Dsouza1997} \\
     miRNAssist & \checkmark & & & \checkmark & & & {\scriptsize N/A} & \cite{Xie2007} \\
     miRU & \checkmark & \checkmark & & & & & {\scriptsize N/A} & \cite{Zhang2005} \\
     WMD3 & \checkmark & & \checkmark & & & & {\scriptsize \url{http://wmd3.weigelworld.org/}} & \cite{Ossowski2008} \\
     TAPIR & \checkmark & \checkmark & \checkmark & & & \checkmark & {\scriptsize \url{http://bioinformatics.psb.ugent.be/webtools/tapir/}} & \cite{Bonnet2010} \\
     UEA sRNA & \checkmark & & \checkmark & & & & {\scriptsize \url{http://srna-tools.cmp.uea.ac.uk/plant/}}\tnote{7} & \cite{Moxon2008} \\
     Target-align & \checkmark & & & & & \checkmark & {\scriptsize \url{http://www.leonxie.com/}} & \cite{Xie2010} \\
     Targetfinder & \checkmark & \checkmark & \checkmark & & & \checkmark & {\scriptsize \url{http://carringtonlab.org/resources/targetfinder}} & \cite{Fahlgren2007} \\
     p-TAREF & \checkmark & \checkmark & \checkmark & & & \checkmark & {\scriptsize \url{http://scbb.ihbt.res.in/new/p-taref/form1.html}} & \cite{Jha2011} \\
     psRNATarget & \checkmark & & \checkmark & \checkmark & \checkmark & & {\scriptsize \url{http://plantgrn.noble.org/psRNATarget/}} & \cite{Dai2011a} \\
     imiRTP & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & & {\scriptsize \url{http://admis.fudan.edu.cn/projects/imiRTP.htm}}\tnote{7} & \cite{Ding2011} \\ \bottomrule
      \end{tabular}
      \begin{tablenotes}
        {\scriptsize  Note: \item[1] Complementarity; \item[2] Conservation; \item[3] Accessibility; \item[4] Multiplicity; \item[5] Functionality; \item[6] Reference \item[7] Currently offline}
      \end{tablenotes}
     \end{threeparttable}
    \end{table}
\end{landscape}

\begin{figure}[H]
\begin{lstlisting}[language=bash]
#!/bin/sh

cd "$(dirname "$0")"

TARBASE=validated_targets_tarbase.csv

#generate a processed miRNA file
sed 's/ .*//g' mirna_unprocessed.fa > mirna.fa

sed -re '/ath-/!d' ../tarbase_data.csv > temp 

cut -f2,4 temp | awk '{$2=toupper($2)}1' | sed 's/ /,/g' | sed 's/mir/miR/g'| awk -F, '{print $2,$1}' OFS=, > $TARBASE

cat  validated_targets_* | sort | uniq > validated_targets.csv

rm temp
rm $TARBASE
	
\end{lstlisting}
\caption{Script for preprocessing miRNA and validated targets datasets}
\label{scr:datasets}
\end{figure}

\begin{figure}[H]
\begin{lstlisting}[language=bash]
#!/bin/sh

cd "$(dirname "$0")"

#processing psRNATarget targets
sed "/#/d" psRNATarget/unprocessed_targets.txt | cut -f1,2  | tail -n +2 | sed 's/\t/,/g' | awk -F, '{print $2,$1}' OFS=, | sort | uniq > psRNATarget/processed_targets.csv

#processing TAPIR targets 
sed -e "/#/d" tapir/unprocessed_targets.txt -re '/miRNA |target /!d' -e 's/([[:space:]])+/\t/g' | cut -f2 | paste - - -d"," |  tr ' ' ',' | awk -F, '{print $2,$1}' OFS=, | sort | uniq > tapir/processed_targets.csv

cat psRNATarget/processed_targets.csv tapir/processed_targets.csv validated_targets.csv | sort | uniq  > subset.csv
\end{lstlisting}
\caption{Script for pre-processing the results from tools}
\label{scr:tools}
\end{figure}
